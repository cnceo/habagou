<?php
bjload("bjphp.vendor.ui.CachePage");
class user_login_cache extends \bjphp\vendor\ui\CachePage
{
	public function run($uicontext)
	{
		$this->_root =$uicontext;
		$this->_this =$this->_root;
		
		$this->do_html("<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <meta charset=\"utf-8\" />\r\n    <title>哈巴狗</title>\r\n\r\n    <meta content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0\" name=\"viewport\">\r\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/res/css/css.css?t=2\" />\r\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/res/css/hui_main.css?t=1\"/>\r\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"../../res/css/yanzhengma.css\"/>\r\n    <script src=\"/res/js/jquery-1.11.2.min.js\" type=\"text/javascript\" charset=\"utf-8\"></script>\r\n    <script src=\"/res/js/hui_tool.js\" type=\"text/javascript\" charset=\"utf-8\"></script>\r\n    <script src=\"/uilib/bjui.js\" type=\"text/javascript\" charset=\"utf-8\"></script>\r\n    <script src=\"/res/js/hui_main.js\" type=\"text/javascript\" charset=\"utf-8\"></script>\r\n    <script src=\"/res/js/hui_login.js\" type=\"text/javascript\" charset=\"utf-8\"></script>\r\n    <script src=\"/res/js/hui_findpwd.js\" type=\"text/javascript\" charset=\"utf-8\"></script>\r\n    <script src=\"/res/js/js.KinerCode.js\" type=\"text/javascript\" charset=\"utf-8\"></script>\r\n    \r\n</head>\r\n<body>\r\n    <div id=\"login\">\r\n        <div class=\"logo\"></div>\r\n        <div class=\"login_form\">\r\n            <form>\r\n                <input type=\"text\" id=\"mobile\" placeholder=\"手机\">\r\n                <input type=\"password\" id=\"pass\" placeholder=\"密码\">\r\n                <input type=\"button\" class=\"loginbtn\" value=\"登录\">\r\n            </form>\r\n\r\n        </div>\r\n        <div class=\"forget1\"><span>忘记密码</span></div>\r\n        <!--提示框-->\r\n        <div id=\"infoBox\">\r\n            <span class=\"close8\"></span>\r\n            <div class=\"infoText\">提示信息</div>\r\n        </div>\r\n        <!--忘记密码面板-->\r\n        <div id=\"forgetPassBox\">\r\n            <div class=\"close1\"></div>\r\n            <form class=\"chengePassForm\" style=\"padding-bottom:15px;\">\r\n                <input type=\"text\" class=\"forgetInput\" name=\"oldMobile\" id=\"oldMobile\" placeholder=\"已注册手机号\" />\r\n                <div class=\"checkCodeBox\">\r\n                    <input type=\"text\" name=\"checkCode\" id=\"checkCode\" class=\"forgetInput checkCode\" placeholder=\"验证码\" />\r\n                    <input type=\"button\" id=\"btn\" disabled-id=\"0\" value=\"获取验证码\" class=\"getCodeBtn getCodeBtn0\" />\r\n                    <!--<div class=\"getCodeBtn\" disabled-id=\"0\" >获取验证码</div>-->\r\n                </div>\r\n                <input type=\"password\" name=\"newpass\" id=\"newpass\" class=\"forgetInput\" placeholder=\"新密码\" />\r\n                <input type=\"password\" name=\"againPass\" id=\"againPass\" class=\"forgetInput\" placeholder=\"确认密码\" />\r\n                <div class=\"confirmChange\"></div>\r\n            </form>\r\n        </div>\r\n        \r\n        <fieldset id=\"yanzhengBox\">\r\n        \t<div class=\"close1\"></div>\r\n\t\t    <!--<form class=\"inputBox\">\r\n\t\t        <input id=\"inputCode\" type=\"text\" class=\"inputs\"/>\r\n\t\t        <span id=\"code\" class=\"mycode\"></span>\r\n\t\t        <input type=\"button\" value=\"提交\" id=\"submit\" class=\"inputs\"/>\r\n\t\t    </form>-->\r\n\t\t</fieldset>\r\n        \r\n        <!--遮罩-->\r\n        <div id=\"screen\"></div>\r\n        <div id=\"screen3\"></div>\r\n    </div>\r\n\r\n\r\n    <script type=\"text/javascript\">\r\n        window.onload = function(){\r\n        \tvar screen = ".'$'."('#screen');\r\n        \t//全局报错\r\n        \tbjui_config.error_report=function(userexception, src, param, msg, fnFail){\r\n        \t\t".'$'."('.inputBox').remove();\r\n        \t\t".'$'."('#screen3').fadeOut();\r\n\t\t\t\t".'$'."('#infoBox').show();\r\n\t\t\t\t".'$'."('#infoBox').find('.infoText').text(msg);\r\n\t\t\t}\r\n\t\t\t\r\n\r\n        \t\r\n        \t//骨头下落动画\r\n//          var page=document.getElementById(\"login\")\r\n//          //生成骨头\r\n//          function createSnow(l,t,s,r){\r\n//              var  newNode=document.createElement(\"div\");\r\n//              newNode.style.height=s+\"px\";\r\n//              newNode.style.width=s+\"px\";\r\n//              newNode.style.position= \"absolute\"\r\n//              newNode.style.left=l+\"px\";\r\n//              newNode.style.top=t+\"px\";\r\n//              newNode.style.transform=\"rotate(\"+r+\"deg)\";\r\n//              newNode.style.background=\"url('../../res/image/gutou.png')\";\r\n//              newNode.style.backgroundSize=\"100% 100%\";\r\n//              newNode.style.zIndex = 3\r\n//              page.appendChild(newNode);\r\n//              startMove(newNode);\r\n//          }\r\n//          var time1=null;\r\n//          var poY=0;\r\n//          setInterval(function(){\r\n//              var le=parseInt(Math.random()*375);//随机生成位置及宽高\r\n//              var to=parseInt(Math.random()*10);\r\n//              var size=parseInt(Math.random()*20+20);\r\n//              var rotate = parseInt(Math.random()*360+1);\r\n//              createSnow(le,to,size,rotate);\r\n//          },2000);\r\n//          //骨头下落\r\n//          function startMove(obj){\r\n//              var poY=obj.offsetTop;//获取对象到顶部边宽的距离\r\n//              var time2=null;\r\n//              function move(){\r\n//                  poY++;\r\n//                  obj.style.top=poY+\"px\";\r\n//                  if(poY>600){//当骨头超出容器时的处理事件\r\n//                      clearInterval(time2);//清除计时器\r\n//                      page.removeChild(obj);//删除超出容器的节点对象\r\n//                  }\r\n//              }\r\n//              time2=setInterval(move,30);\r\n//          }\r\n            \r\n            \r\n\r\n\r\n            function yanzhengma(){for(var a=document.getElementById(\"inputCode\"),b=document.getElementById(\"code\"),c=document.getElementById(\"submit\"),d=(document.getElementById(\"inputCode2\"),document.getElementById(\"code2\"),[\"+\",\"-\",\"*\",\"/\"]),e=[],f=0;f<1e3;f++){var g=parseInt(100*Math.random()+1),h=parseInt(100*Math.random()+1),i=parseInt(4*Math.random());if(\"/\"===d[i]){var j=g%h;if(0!=j&&0==(g-=j)){var k=g;h=g,g=k}}if(0!=g||0!=g){var l=g+d[i]+h;e.push(l)}}var d=new KinerCode({len:4,chars:[1,2,3,4,5,6,7,8,9,0,\"a\",\"b\",\"c\",\"d\",\"e\",\"f\",\"g\",\"h\",\"i\",\"j\",\"k\",\"l\",\"m\",\"n\",\"o\",\"p\",\"q\",\"r\",\"s\",\"t\",\"u\",\"v\",\"w\",\"x\",\"y\",\"z\",\"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\",\"I\",\"J\",\"K\",\"L\",\"M\",\"N\",\"O\",\"P\",\"Q\",\"R\",\"S\",\"T\",\"U\",\"V\",\"W\",\"X\",\"Y\",\"Z\"],question:!1,copy:!1,bgColor:\"\",bgImg:\"/res/image/kong.png\",randomBg:!1,inputArea:a,codeArea:b,click2refresh:!0,false2refresh:!0,validateObj:c,validateEven:\"click\",validateFn:function(a,b){a?(".'$'."(\"#infoBox\").find(\".infoText\").text(\"验证成功\"),".'$'."(\"#infoBox\").show(),".'$'."(\"#yanzhengBox\").hide(),BizCall(\"user.User.login\",{phone:".'$'."(\"#mobile\").val(),pwd:".'$'."(\"#pass\").val()},function(a){".'$'."(\"#infoBox\").find(\".infoText\").text(\"登录成功\"),".'$'."(\"#infoBox\").show(),".'$'."(\".inputBox\")[0].reset(),window.location.href=\"/user/user/home\"})):(this.opt.question,".'$'."(\"#infoBox\").find(\".infoText\").text(\"验证码输入错误\"),".'$'."(\"#infoBox\").show(),".'$'."(\".inputBox\")[0].reset())}})}function checkPhone(){var a=".'$'."(\"#mobile\").val();if(/^1[34578]\\d{9}".'$'."/.test(a))return!0}function checkpass(){if(".'$'."(\"#pass\").val().length>5)return!0}".'$'."(\".close1\").on(\"click\",function(){".'$'."(\"#yanzhengBox\").hide(),".'$'."(\".inputBox\").remove(),".'$'."(\"#screen3\").hide()}),".'$'."(\".loginbtn\").click(function(a){a.stopPropagation();var b=".'$'."(\"#mobile\").val(),c=".'$'."(\"#pass\").val();if(\"\"==b)".'$'."(\"#infoBox\").show(),".'$'."(\"#infoBox\").find(\".infoText\").text(\"请输入手机号\");else if(\"\"==c)".'$'."(\"#infoBox\").show(),".'$'."(\"#infoBox\").find(\".infoText\").text(\"请输入密码\");else if(checkPhone()||checkpass())if(checkPhone())if(checkpass()){".'$'."(\"#yanzhengBox\").append('<form class=\"inputBox\"><input id=\"inputCode\" type=\"text\" class=\"inputs\"/><span id=\"code\" class=\"mycode\"></span><input type=\"button\" value=\"提交\" id=\"submit\" class=\"inputs\"/></form>'),".'$'."(\"#yanzhengBox\").show(),".'$'."(\"#screen3\").show(),yanzhengma()}else ".'$'."(\"#infoBox\").show(),".'$'."(\"#infoBox\").find(\".infoText\").text(\"密码至少6位\");else ".'$'."(\"#infoBox\").show(),".'$'."(\"#infoBox\").find(\".infoText\").text(\"手机号格式不正确\");else ".'$'."(\"#infoBox\").show(),".'$'."(\"#infoBox\").find(\".infoText\").text(\"手机号格式不正确||密码至少6位\")});\r\n            \r\n            \r\n            \r\n            \r\n            \r\n        }\r\n    </script>\r\n\r\n\r\n</body>\r\n</html>");
	}
}
